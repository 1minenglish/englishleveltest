<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <!-- æ–°å¢ç§»åŠ¨ç«¯è§†å£æ§åˆ¶ -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>è‹±è¯­æ°´å¹³æµ‹è¯•</title>
  <script src="https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js"></script>
  <style>
    /* ä¼˜åŒ–åçš„ç§»åŠ¨ç«¯æ ·å¼ */
    .timer {
      position: fixed;
      top: 15px;
      right: 15px;
      background: #fff;
      padding: 8px 15px;
      border-radius: 18px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      z-index: 1000;
      font-size: 14px;
    }

    .progress-bar {
      height: 6px;
      margin: 15px 0;
      background: #e0e0e0;
      border-radius: 4px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: #4CAF50;
      transition: width 0.3s ease;
    }

    .encourage-message {
      text-align: center;
      padding: 12px;
      margin: 15px 0;
      background: #f8f9fa;
      border-radius: 8px;
      animation: fadeIn 0.5s;
    }

    .emoji { 
      font-size: 1.8em;
      display: block;
      margin-bottom: 8px;
    }

    body { 
      font-family: Arial, "PingFang SC", sans-serif;
      font-size: 16px;
      padding: 15px;
      max-width: 800px;
      margin: 0 auto;
      line-height: 1.6;
    }

    .question { 
      margin-bottom: 20px;
      padding: 15px;
      border: 1px solid #eee;
      border-radius: 8px;
    }

    .question h3 {
      font-size: 1.25em;
      margin: 12px 0;
    }

    button { 
      display: block;
      width: 100%;
      padding: 16px;
      margin: 12px 0;
      background: #007bff;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: 0.3s;
      font-size: 1.1em;
      box-sizing: border-box;
    }

    button:hover { 
      background: #0056b3;
      transform: translateY(-2px);
    }

    .pagination { 
      margin: 20px 0;
      color: #666;
      font-size: 1.1em;
    }

    .result-page { 
      background: #f8f9fa;
      padding: 25px;
      border-radius: 10px;
    }

    .celebrate { animation: bounce 0.6s 2; }
    
    .level-card {
      padding: 18px;
      border-radius: 10px;
      margin: 18px 0;
    }

    /* å“åº”å¼è°ƒæ•´ */
    @media (min-width: 600px) {
      body { 
        font-size: 18px;
        padding: 20px;
      }
      .timer {
        font-size: 16px;
        padding: 10px 20px;
      }
      button {
        width: auto;
        padding: 12px 25px;
      }
      .question h3 {
        font-size: 1.4em;
      }
    }

    @media (max-width: 375px) {
      body { 
        font-size: 15px;
        padding: 10px;
      }
      button {
        padding: 14px;
      }
    }

    /* ä¿ç•™åŸæœ‰åŠ¨ç”» */
    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-5px); }
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    /* ä¿ç•™ç­‰çº§å¡ç‰‡é¢œè‰² */
    .level-card.A1 { background: #FFF3E0; border: 2px solid #FFB74D; }
    .level-card.A2 { background: #E8F5E9; border: 2px solid #81C784; }
    .level-card.B1 { background: #E3F2FD; border: 2px solid #64B5F6; }
    .level-card.B2 { background: #F3E5F5; border: 2px solid #BA68C8; }
  </style>
</head>
<body>
  <div id="app">
    <!-- è®¡æ—¶å™¨ -->
    <div class="timer">â±ï¸ å·²ç”¨æ—¶ï¼š{{ formattedTime }}</div>

    <!-- è¿›åº¦æ¡ -->
    <div class="progress-bar">
      <div class="progress-fill" :style="{ width: progress + '%' }"></div>
    </div>

    <!-- é¼“åŠ±æç¤º -->
    <div v-if="currentEncourage" class="encourage-message">
      <span class="emoji">{{ currentEncourage.emoji }}</span>
      <h3>{{ currentEncourage.text }}</h3>
      <p>{{ currentEncourage.subText }}</p>
    </div>

    <!-- æµ‹è¯•é¡µé¢ -->
    <div v-if="currentPage <= totalPages">
      <div class="pagination">ç¬¬ {{ currentPage }}/{{ totalPages }} é¡µ</div>
      
      <div v-for="index in currentQuestionIndexes" :key="index" class="question">
        <h3>ç¬¬{{ index + 1 }}é¢˜: {{ questions[index].text }}</h3>
        <button 
          v-for="(opt, optIndex) in questions[index].options" 
          :style="{ background: userAnswers[index] === optIndex ? '#28a745' : '' }"
          @click="selectAnswer(index, optIndex)"
        >{{ String.fromCharCode(97 + optIndex) }}. {{ opt }}</button>
      </div>

      <button @click="nextPage" style="background: #6c757d;">
        {{ currentPage === totalPages ? 'æäº¤ç­”æ¡ˆ' : 'ä¸‹ä¸€é¡µ' }}
      </button>
    </div>

    <!-- ç»“æœé¡µé¢ -->
    <div v-else class="result-page">
      <div class="celebrate">
        <span class="emoji">ğŸ‰</span>
        <h2>æ­å–œå®Œæˆï¼æ‚¨ç­”å¯¹äº† {{ correctCount }} é¢˜</h2>
        <p>æ€»è€—æ—¶ï¼š{{ formattedTime }}</p>
      </div>
      <div class="level-card" :class="level">
        <h3>æ‚¨çš„ç­‰çº§ï¼š{{ level }}</h3>
        <p>{{ levelDescription }}</p>
      </div>
      <button @click="unlockReport">ğŸ” æŸ¥çœ‹è¯¦ç»†åˆ†ææŠ¥å‘Š</button>
    </div>
  </div>

<script>

// ================= å®Œæ•´60é“é¢˜ç›®æ•°æ® =================
const questions = [
  // 1-5
  { text: "I ______ bus on Mondays.", options: ["'m going to work with", "'m going to work by", "go to work with", "go to work by"], correct: 3 },
  { text: "Sorry, but this chair is ______.", options: ["me", "mine", "my", "our"], correct: 1 },
  { text: "A: 'How old ______?' B: 'I ______ .'", options: ["are you / am 20 years old.", "have you / have 20 years old", "are you / am 20 years.", "do you have / have 20 years."], correct: 0 },
  { text: "Where ______ ?", options: ["your sister works", "your sister work", "does your sister work", "do your sister work"], correct: 2 }, 
  { text: "The test is ______ February.", options: ["in", "at", "on", "over"], correct: 0 },

  // 6-10
  { text: "I don't have ______ free time.", options: ["many", "any", "a lot", "some"], correct: 1 },
  { text: "A: '_____ to the cinema tomorrow?'", options: ["We will go", "Do we go", "We go", "Shall we go"], correct: 3 },
  { text: "We went to the market ______ some vegetables.", options: ["to buy", "for buy", "for to buy", "for buying"], correct: 0 },
  { text: "Sorry, but when you called I ______ a shower.", options: ["had", "did have", "was having", "were having"], correct: 2 },
  { text: "Somebody stole ______ yesterday.", options: ["the car of my mother", "my car mother", "my mother's car", "my mother car"], correct: 2 },

  // 11-15
  { text: "______ with me?", options: ["Do you like to dance", "Would you like to dance", "Do you like dance", "Would you like dancing"], correct: 1 },
  { text: "She is ______ her sister, I think.", options: ["more happier than", "more happy that", "happier that", "happier than"], correct: 3 },
  { text: "Please, pass me the remote. ______ TV.", options: ["I'm watching", "I will watch", "I'm going to watch", "I might watch"], correct: 2 },
  { text: "I'll call you when I ______ home.", options: ["arrive", "'m going to arrive", "will arrive", "arrived"], correct: 0 },
  { text: "______ Japan?", options: ["Have you ever gone in", "Do you have been in", "Have you ever been to", "Have you ever been into"], correct: 2 },

  // 16-20
  { text: "He drives very ______.", options: ["slow", "slower", "more slowly", "slowly"], correct: 3 },
  { text: "Can you ______ the lights? I can't see.", options: ["open", "turn on", "start", "put on"], correct: 1 },
  { text: "Tomorrow I ______ get up early; it's my day off.", options: ["mustn't", "must", "haven't to", "don't have to"], correct: 3 },
  { text: "I ______ this coffee. It tastes horrible.", options: ["am not like", "don't like", "'m not liking", "not like"], correct: 1 },
  { text: "We ______ yesterday.", options: ["arrived", "did arrive", "have arrive", "have arrived"], correct: 0 },

  // 21-25
  { text: "A: 'We don't have any milk.' B: 'Really? I ______ more.'", options: ["'m going to buy", "'ll buy", "'m buying", "buy"], correct: 1 },
  { text: "We ______ to seeing you next Thursday.", options: ["really want", "hope", "are looking forward", "really wish"], correct: 2 },
  { text: "I'd like to go ______ in the park.", options: ["to walking", "for walk", "for a walk", "to walk"], correct: 2 },
  { text: "German ______ in Germany, Austria and Switzerland.", options: ["is spoken", "spoken", "speaks", "is speak"], correct: 0 },
  { text: "He went on a business _____ to New York.", options: ["travel", "journey", "commute", "trip"], correct: 3 },

  // 26-30
  { text: "If I tell you a secret, ______ anyone?", options: ["are you tell", "do you tell", "will you tell", "are you telling"], correct: 2 },
  { text: "My brother and I don't ______ very well.", options: ["get off", "get on", "go on", "break off"], correct: 1 },
  { text: "I ______ fifty pages, but I have to read fifty more.", options: ["'ve been reading", "was reading", "'ve reading", "'ve read"], correct: 3 },
  { text: "If I ______ you, I wouldn't do it.", options: ["was", "were", "would be", "am"], correct: 1 },
  { text: "She is the same age ______ me.", options: ["than", "that", "what", "as"], correct: 3 },

  // 30-35
  { text: "It's obvious that you...", options: ["don't drive as faster as me.", "drive faster than me.", "drive more fast than I.", "drive no faster than I."], correct: 1 },
  { text: "I think he ______ in prison for what he did.", options: ["should put", "could been put", "should be put", "could put"], correct: 2 },
  { text: "He ______ him with his homework.", options: ["told me to help", "said me that I help", "said me I help", "told me that I help"], correct: 0 },
  { text: "We ______. We hired a very good interior designer.", options: ["redecorated the kitchen", "had redecorated the kitchen", "got redecorated the kitchen", "had the kitchen redecorated"], correct: 3 },
  { text: "I wonder ______ at the party.", options: ["who was she talking", "who she was talking to", "who was she talking to", "who she was talking"], correct: 1 },

  // 35-40
  { text: "Which is correct?", options: ["How older people are, wiser they become", "If older people are, wiser they become", "The more old the people, the more wise", "The older people are, the wiser they become"], correct: 3 },
  { text: "I bought a ______ jacket.", options: ["nice red leather", "leather nice red", "red nice leather", "red leather nice"], correct: 0 },
  { text: "If my parents hadn't met, I ______ here now.", options: ["wouldn't be", "wouldn't have been", "hadn't been", "weren't"], correct: 0 },
  { text: "I like the job, but I think it'll be difficult to ______ nights.", options: ["be used to working", "uses to work", "get used to working", "get used to work"], correct: 2 },
  { text: "Not only ______ you, but he also lied to you.", options: ["did he disrespect", "he disrespected", "he did disrespect", "he has disrespected"], correct: 0 }
];

// ================= æ–°å¢é¼“åŠ±æç¤ºé…ç½® =================
const encourageMessages = [
  { page: 1, emoji: "ğŸš€", text: "å¼€å¯ä½ çš„æ—…ç¨‹å§ï¼", subText: "é¢˜åº“ç‰ˆæœ¬20250314" },
  { page: 3, emoji: "ğŸ’ª", text: "åšæŒå°±æ˜¯èƒœåˆ©ï¼", subText: "å¥½çš„å¼€å§‹æ˜¯æˆåŠŸçš„ä¸€åŠã€‚" },
  { page: 5, emoji: "ğŸŒŸ", text: "é«˜æ‰‹åœ¨æ°‘é—´ï¼", subText: "å†åšæŒä¸€ä¸‹ï¼Œå¿«è¦å®Œæˆå’¯ï¼" },
  { page: 7, emoji: "ğŸ¯", text: "æ›™å…‰å°±åœ¨å‰æ–¹ï¼", subText: "ä½ çœŸæ£’ï¼åŠ æ²¹é¸­" }
]

// ================= Vueå®ä¾‹ =================
new Vue({
  el: '#app',
  data: {
    questions: questions,
    userAnswers: new Array(60).fill(null),
    currentPage: 1,
    itemsPerPage: 5,
    timeSpent: 0,
    timer: null,
    encourageMessages: [
      { page: 1, emoji: "ğŸš€", text: "å¼€å¯ä½ çš„æ—…ç¨‹å§ï¼", subText: "ç‰ˆæœ¬å·Alpha 1.40.2025.3.15" },
      { page: 3, emoji: "ğŸ’ª", text: "åšæŒå°±æ˜¯èƒœåˆ©ï¼", subText: "å¥½çš„å¼€å§‹æ˜¯æˆåŠŸçš„ä¸€åŠã€‚" },
      { page: 5, emoji: "ğŸŒŸ", text: "é«˜æ‰‹åœ¨æ°‘é—´ï¼", subText: "å†åšæŒä¸€ä¸‹ï¼Œå¿«è¦å®Œæˆå’¯ï¼" },
      { page: 7, emoji: "ğŸ¯", text: "æ›™å…‰å°±åœ¨å‰æ–¹ï¼", subText: "ä½ çœŸæ£’ï¼åŠ æ²¹é¸­" }
    ]
  },
  created() {
    this.startTimer()
  },
  beforeDestroy() {
    this.stopTimer()
  },
  computed: {
    totalPages() { return Math.ceil(this.questions.length / this.itemsPerPage) },
    currentQuestionIndexes() {
      const start = (this.currentPage - 1) * this.itemsPerPage;
      return Array.from({length: this.itemsPerPage}, (_, i) => start + i)
                  .filter(i => i < this.questions.length);
    },
    showNextButton: () => true,
    correctCount() {
      return this.questions.reduce((count, q, i) => 
        (q.correct === this.userAnswers[i]) ? count + 1 : count, 0)
    },
    level() {
      if (this.correctCount <= 10) return 'A1';
      else if (this.correctCount <= 22) return 'A2';
      else if (this.correctCount <= 32) return 'B1';
      else return 'B2';
    },
    progress() {
      return ((this.currentPage - 1) / this.totalPages * 100).toFixed(1)
    },
    currentEncourage() {
      return this.encourageMessages.find(m => m.page === this.currentPage)
    },
    levelDescription() {
      const descriptions = {
        A1: "å¥½æ¶ˆæ¯æ˜¯...ä½ çš„æå‡ç©ºé—´éå¸¸å¤§!!!",
        A2: "åˆéœ²é”‹èŠ’ï¼æ¨èç³»ç»Ÿå­¦ä¹ è¯­æ³•ä½“ç³»",
        B1: "ä½ å¾ˆä¼˜ç§€äº†ï¼ä¿æŒå¥½å­¦ä¹ ä¹ æƒ¯",
        B2: "æ¸¸åˆƒæœ‰ä½™ï¼å¯æŒ‘æˆ˜ä¸“ä¸šé¢†åŸŸé˜…è¯»"
      }
      return descriptions[this.level]
    },
    formattedTime() {
      const mins = Math.floor(this.timeSpent / 60)
      const secs = this.timeSpent % 60
      return `${mins}åˆ†${secs.toString().padStart(2, '0')}ç§’`
    }
  },
  methods: {
    selectAnswer(questionIndex, optionIndex) {
      this.$set(this.userAnswers, questionIndex, optionIndex)
    },
    nextPage() {
      const unanswered = this.currentQuestionIndexes.filter(i => 
        this.userAnswers[i] === null
      ).length
      
      if (unanswered > 0 && !confirm(`è¿˜æœ‰${unanswered}é¢˜æœªå›ç­”ï¼Œä¸èƒ½å›å¤´å“¦ï¼Œç¡®å®šè·³è¿‡å—ï¼Ÿ`)) return

      if (this.currentPage < this.totalPages) {
        this.currentPage++
        window.scrollTo(0, 0)
      } else {
        this.currentPage = this.totalPages + 1
        this.stopTimer()
      }
    },
    unlockReport() {
      alert('æ”¯ä»˜ç³»ç»Ÿæ­£åœ¨å¯¹æ¥ä¸­ï¼Œå³å°†å¼€æ”¾ï¼')
    },
    startTimer() {
      this.timer = setInterval(() => this.timeSpent++, 1000)
    },
    stopTimer() {
      clearInterval(this.timer)
    }
  }
})
</script>
</body>
</html>
